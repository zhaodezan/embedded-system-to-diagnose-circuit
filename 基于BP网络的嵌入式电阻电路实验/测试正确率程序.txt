#define item 100
#include "math.h"
#include "stdio.h"
void main()
{	
	
	double dat[2];  	
	double sigma1,sigma2;			 //必须在此处定义，下面定义会提示出错
	double X[8],H[8],Y[2],O[3];
	int led[3],i,j,k,errNum=0;
	double W[8][2] = {{-13.979473,0.087494},
{0.043507,-2.274905},
{17.423861,1.369551},
{-26.906977,-30.922585},
{-27.176474,24.743382},
{-11.399203,3.181818},
{2.122782,-49.758030},
{-27.656754,6.881351}};
	double V[3][8] =
	{{-7.373723,-0.668439,1.060720,7.636758,18.573893,-2.249575,23.101753,-6.362555},	
	{6.969000,1.726743,-10.375165,21.606861,14.297374,4.258091,-38.432674,11.741524},
	{4.443914,-2.919873,24.433964,-35.002476,20.831726,4.791403,23.167862,14.727576}};
						
	double YU_ON[3]={-13.085762,3.985453,-17.434816};
	double YU_HN[8]={4.339522,1.082725,-14.568905,19.870943,-1.080821,1.372028,19.833624,7.506342};	

	//read data
	FILE * fp;
	fp = fopen("test.txt","r");

for(k=0;k<item;k++)
{
	for(i=0;i<2;i++)
	{
		fscanf(fp,"%lf",&dat[i]);
	}

	
	


	for(i=0;i<8;i++) 
	{
    	sigma1=0.0;
    	for(int j=0;j<4;j++)
    	{
			sigma1+=W[i][j]*dat[j];
	   	}
 	   	X[i]=sigma1+YU_HN[i];
     	H[i]=1.0/(1.0+exp(-X[i]));
    }


	for(i=0;i<3;i++) 
	{
   		 sigma2=0.0;
		 for(j=0;j<8;j++)
   		{
			sigma2+=V[i][j]*H[j];
		}		                                                                  
		Y[i]=sigma2+YU_ON[i];
		O[i]=1.0/(1.0+exp(-Y[i]));
		led[i]=O[i]+0.5;
		printf("led[%d] = %d\n",i,led[i]);
	}

    	if((led[0]==0)&&(led[1]==0)&&(led[2]==0))
		{
			errNum++;
		}
}
		printf("%d",errNum);
		fclose(fp);
}

